<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>LinkMap.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sxr -- Scala X-Ray
 * Copyright 2010 Mark Harrah
 */</span>

<span class="keyword">package</span> sxr

<span class="keyword">import</span> java.net.URL

<span class="comment">/** A LinkMap is used to link across sxr runs.*/</span>
<span class="keyword">trait</span> <a title="trait LinkMap extends java.lang.Object" id="9532">LinkMap</a>
<span title="java.lang.Object" class="delimiter">{</span>
  <span class="comment">/** Adds a mapping.*/</span>
  <span class="keyword">def</span> <a title="(src: String, stableID: String, id: Int)Unit" id="43899">update</a><span class="delimiter">(</span><a title="String" id="50712">src</a>: <span title="String">String</span>, <a title="String" id="50713">stableID</a>: <span title="String">String</span>, <a title="Int" id="50714">id</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>
  <span class="comment">/** Remove all mappings for the given sources.*/</span>
  <span class="keyword">def</span> <a title="(srcs: Iterable[String])Unit" id="43900">clear</a><span class="delimiter">(</span><a title="Iterable[String]" id="43919">srcs</a>: <span title="Iterable[String]">Iterable</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>
  <span class="comment">/** Retrieve the mapped ID and the source providing that ID.*/</span>
  <span class="keyword">def</span> <a title="(stable: String)Option[(String, Int)]" id="43901">apply</a><span class="delimiter">(</span><a title="String" id="51640">stable</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[(String, Int)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Int<span class="delimiter">)</span><span class="delimiter">]</span>
  <span class="comment">/** All mappings.*/</span>
  <span class="keyword">def</span> <a title="=&gt; Iterable[(String, Iterable[(String, Int)])]" id="43902">get</a>: <span title="Iterable[(String, Iterable[(String, Int)])]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Iterable<span class="delimiter">[</span><span class="delimiter">(</span>String, Int<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span>
<span class="delimiter">}</span>
<span class="comment">/** Combines multiple LinkMaps.
'update' and 'clear' are only applied to `write`.
`apply` and `get` are applied across `write` and `readOnly`.*/</span>
<span class="keyword">class</span> <a title="class CompoundLinkMap extends java.lang.Object with sxr.LinkMap with ScalaObject" id="9533">CompoundLinkMap</a><a href="#9533" title="ScalaObject" class="delimiter">(</a><a title="sxr.LinkMap" id="43913">write</a>: <a href="#9532" title="sxr.LinkMap">LinkMap</a>, <a title="List[sxr.LinkMap]" id="43914">readOnly</a>: <span title="List[sxr.LinkMap]">List</span><span class="delimiter">[</span>LinkMap<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9532" title="sxr.LinkMap">LinkMap</a>
<span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; List[sxr.LinkMap]" id="43908">all</a> = <a href="#43913" title="sxr.LinkMap">write</a> <a href="#61089" title="(x: sxr.LinkMap)List[sxr.LinkMap]">::</a> <a href="#43914" title="List[sxr.LinkMap]">readOnly</a>
  <span class="keyword">def</span> <a title="(src: String, stableID: String, id: Int)Unit" id="43909">update</a><span class="delimiter">(</span><a title="String" id="61095">src</a>: <span title="String">String</span>, <a title="String" id="61096">stableID</a>: <span title="String">String</span>, <a title="Int" id="61097">id</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#43913" title="sxr.LinkMap">write</a>.<a href="#43899" title="(src: String, stableID: String, id: Int)Unit">update</a><span class="delimiter">(</span><a href="#61095" title="String">src</a>, <a href="#61096" title="String">stableID</a>, <a href="#61097" title="Int">id</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(srcs: Iterable[String])Unit" id="43910">clear</a><span class="delimiter">(</span><a title="Iterable[String]" id="43917">srcs</a>: <span title="Iterable[String]">Iterable</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#43913" title="sxr.LinkMap">write</a>.<a href="#43900" title="(srcs: Iterable[String])Unit">clear</a><span class="delimiter">(</span><a href="#43917" title="Iterable[String]">srcs</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(stable: String)Option[(String, Int)]" id="43911">apply</a><span class="delimiter">(</span><a title="String" id="61100">stable</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#43908" title="=&gt; List[sxr.LinkMap]">all</a>.<span title="(f: sxr.LinkMap =&gt; scala.collection.GenTraversableOnce[(String, Int)])(implicit bf: scala.collection.generic.CanBuildFrom[List[sxr.LinkMap],(String, Int),List[(String, Int)]])List[(String, Int)]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,(String, Int),List[(String, Int)]]" class="delimiter">{</span> <a href="#43901" title="(stable: String)Option[(String, Int)]">_</a><span title="(xo: Option[(String, Int)])Iterable[(String, Int)]" class="delimiter">(</span><a href="#61100" title="String">stable</a><span class="delimiter">)</span> <span class="delimiter">}</span>.<span title="=&gt; Option[(String, Int)]">headOption</span>
  <span class="keyword">def</span> <a title="=&gt; Iterable[(String, Iterable[(String, Int)])]" id="43912">get</a> = <a href="#43908" title="=&gt; List[sxr.LinkMap]">all</a>.<span title="(f: sxr.LinkMap =&gt; scala.collection.GenTraversableOnce[(String, Iterable[(String, Int)])])(implicit bf: scala.collection.generic.CanBuildFrom[List[sxr.LinkMap],(String, Iterable[(String, Int)]),Iterable[(String, Iterable[(String, Int)])]])Iterable[(String, Iterable[(String, Int)])]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,(String, Iterable[(String, Int)]),List[(String, Iterable[(String, Int)])]]" class="delimiter">(</span><a href="#61222" title="sxr.LinkMap">_</a>.<a href="#43902" title="=&gt; Iterable[(String, Iterable[(String, Int)])]">get</a><span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="keyword">class</span> <a title="class BasicLinkMap extends java.lang.Object with sxr.LinkMap with ScalaObject" id="9534">BasicLinkMap</a><a href="#9534" title="ScalaObject" class="delimiter">(</a><a title="Option[java.net.URL]" id="61265">base</a>: <span title="Option[java.net.URL]">Option</span><span class="delimiter">[</span>URL<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9532" title="sxr.LinkMap">LinkMap</a>
<span class="delimiter">{</span>
  <span class="keyword">import</span> scala.collection._
  <span class="keyword">import</span> mutable.HashMap

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,scala.collection.mutable.HashMap[String,Int]]" id="61255">map</a> = <span title="()scala.collection.mutable.HashMap[String,scala.collection.mutable.HashMap[String,Int]]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,scala.collection.mutable.HashMap[String,Int]]">HashMap</span><span class="delimiter">[</span>String, HashMap<span class="delimiter">[</span>String, Int<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="(src: String, stableID: String, id: Int)Unit" id="61257">update</a><span class="delimiter">(</span><a title="String" id="61266">src</a>: <span title="String">String</span>, <a title="String" id="61267">stableID</a>: <span title="String">String</span>, <a title="Int" id="61268">id</a>: <span title="Int">Int</span><span class="delimiter">)</span>
  <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,Int]" id="61270">srcMap</a> = <a href="#61255" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.HashMap[String,Int]]">map</a>.<span title="(key: String, op: =&gt; scala.collection.mutable.HashMap[String,Int])scala.collection.mutable.HashMap[String,Int]">getOrElseUpdate</span><span class="delimiter">(</span><a href="#61266" title="String">src</a>, <span title="()scala.collection.mutable.HashMap[String,Int]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,Int]">HashMap</span><span class="delimiter">[</span>String, Int<span class="delimiter">]</span><span class="delimiter">)</span>
    <a href="#61270" title="(key: String, value: Int)Unit">srcMap</a><span class="delimiter">(</span><a href="#61267" title="String">stableID</a><span class="delimiter">)</span> = <a href="#61268" title="Int">id</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(srcs: Iterable[String])Unit" id="61258">clear</a><span class="delimiter">(</span><a title="Iterable[String]" id="61278">srcs</a>: <span title="Iterable[String]">Iterable</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#61255" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.HashMap[String,Int]]">map</a> <span title="(xs: scala.collection.TraversableOnce[String])BasicLinkMap.this.map.type">--=</span> <a href="#61278" title="Iterable[String]">srcs</a>
  <span class="keyword">def</span> <a title="=&gt; Iterable[(String, Iterable[(String, Int)])]" id="61259">get</a>: <span title="Iterable[(String, Iterable[(String, Int)])]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Iterable<span class="delimiter">[</span><span class="delimiter">(</span>String, Int<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#61255" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.HashMap[String,Int]]">map</a>
  <span class="keyword">def</span> <a title="(stable: String)Option[(String, Int)]" id="61260">apply</a><span class="delimiter">(</span><a title="String" id="61283">stable</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[(String, Int)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Int<span class="delimiter">)</span><span class="delimiter">]</span> =
    <a href="#61255" title="=&gt; scala.collection.mutable.HashMap[String,scala.collection.mutable.HashMap[String,Int]]">map</a>.<span title="(f: (String, scala.collection.mutable.HashMap[String,Int]) =&gt; scala.collection.GenTraversableOnce[(java.lang.String, Int)])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.HashMap[String,scala.collection.mutable.HashMap[String,Int]],(java.lang.String, Int),scala.collection.mutable.HashMap[java.lang.String,Int]])scala.collection.mutable.HashMap[java.lang.String,Int]">flatMap</span><a href="#61301" title="Iterable[(java.lang.String, Int)]" class="delimiter">{</a> <span class="keyword">case</span> <span title="Iterable[(java.lang.String, Int)]" class="delimiter">(</span><a title="String" id="61304">src</a>, <a title="scala.collection.mutable.HashMap[String,Int]" id="61305">m</a><span class="delimiter">)</span> =&gt; <a href="#61305" title="scala.collection.mutable.HashMap[String,Int]">m</a>.<span title="(key: String)Option[Int]">get</span><span class="delimiter">(</span><a href="#61283" title="String">stable</a><span class="delimiter">)</span>.<span title="(f: Int =&gt; (java.lang.String, Int))Option[(java.lang.String, Int)]">map</span><span title="(xo: Option[(java.lang.String, Int)])Iterable[(java.lang.String, Int)]" class="delimiter">(</span><a title="Int" id="61313">x</a> =&gt; <span title="(_1: java.lang.String, _2: Int)(java.lang.String, Int)" class="delimiter">(</span><a href="#61261" title="(src: String)java.lang.String">source</a><span class="delimiter">(</span><a href="#61304" title="String">src</a><span class="delimiter">)</span>, <a href="#61313" title="Int">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>.<span title="=&gt; Seq[(java.lang.String, Int)]">toSeq</span>.<span title="=&gt; Option[(java.lang.String, Int)]">headOption</span>
  <span class="keyword">def</span> <a title="(src: String)java.lang.String" id="61261">source</a><span class="delimiter">(</span><a title="String" id="61318">src</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <a href="#61265" title="Option[java.net.URL]">base</a> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="java.lang.String">Some</span><span class="delimiter">(</span><a title="java.net.URL" id="61322">url</a><span class="delimiter">)</span> =&gt; <span title="(x$1: java.net.URL, x$2: java.lang.String)java.net.URL" class="keyword">new</span> <span title="java.net.URL">URL</span><span class="delimiter">(</span><a href="#61322" title="java.net.URL">url</a>, <a href="#61318" title="String">src</a><span class="delimiter">)</span> <span title="()java.lang.String">toExternalForm</span>; <span class="keyword">case</span> <span title="String">None</span> =&gt; <a href="#61318" title="String">src</a> <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">import</span> java.io.<span class="delimiter">{</span>BufferedReader, File, PrintWriter<span class="delimiter">}</span>
<span class="keyword">import</span> <a href="FileUtil.scala.html#9518" title="object sxr.FileUtil">FileUtil</a>.<span class="delimiter">{</span>readLines, withWriter<span class="delimiter">}</span>
<span class="keyword">object</span> <a title="object sxr.LinkMapStore" id="9537">LinkMapStore</a>
<span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(file: java.io.File, base: Option[java.net.URL])sxr.LinkMap" id="53575">read</a><span class="delimiter">(</span><a title="java.io.File" id="53576">file</a>: <span title="java.io.File">File</span>, <a title="Option[java.net.URL]" id="53577">base</a>: <span title="Option[java.net.URL]">Option</span><span class="delimiter">[</span>URL<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9532" title="sxr.LinkMap">LinkMap</a> = <span class="delimiter">(</span><span title="sxr.LinkMapStore" class="keyword">new</span> <a href="#9539" title="sxr.LinkMapStore">LinkMapStore</a><span class="delimiter">(</span><a href="#53576" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#37833" title="(base: Option[java.net.URL])sxr.LinkMap">read</a><span class="delimiter">(</span><a href="#53577" title="Option[java.net.URL]">base</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** Read/write a LinkMap to/from a file.
* The format is a head followed by mappings,
* which are pairs of integer IDs used within a run and the String IDs that are used to link between runs.
*
*   [source-path]
*    integer-ID stable-string-ID
**/</span>
<span class="keyword">class</span> <a title="class LinkMapStore extends java.lang.Object with ScalaObject" id="9539">LinkMapStore</a><a href="#9539" title="ScalaObject" class="delimiter">(</a><a title="java.io.File" id="37843">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>
<span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(map: sxr.LinkMap)Unit" id="37832">write</a><span class="delimiter">(</span><a title="sxr.LinkMap" id="49107">map</a>: <a href="#9532" title="sxr.LinkMap">LinkMap</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="FileUtil.scala.html#11946" title="(target: java.io.File)(f: java.io.BufferedWriter =&gt; Unit)Unit">withWriter</a><span class="delimiter">(</span><a href="#37843" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedWriter" id="61886">writer</a> =&gt; <a href="#37835" title="(writer: java.io.PrintWriter, map: sxr.LinkMap)Unit">write</a><span class="delimiter">(</span><span title="java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span><a href="#61886" title="java.io.BufferedWriter">writer</a><span class="delimiter">)</span>, <a href="#49107" title="sxr.LinkMap">map</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(base: Option[java.net.URL])sxr.LinkMap" id="37833">read</a><span class="delimiter">(</span><a title="Option[java.net.URL]" id="43915">base</a>: <span title="Option[java.net.URL]">Option</span><span class="delimiter">[</span>URL<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9532" title="sxr.LinkMap">LinkMap</a> =
  <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="sxr.BasicLinkMap" id="61901">map</a> = <span title="sxr.BasicLinkMap" class="keyword">new</span> <a href="#9534" title="sxr.BasicLinkMap">BasicLinkMap</a><span class="delimiter">(</span><a href="#43915" title="Option[java.net.URL]">base</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#37843" title="java.io.File">file</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span> <a href="#37834" title="(map: sxr.LinkMap)Unit">fillMap</a><span class="delimiter">(</span><a href="#61901" title="sxr.BasicLinkMap">map</a><span class="delimiter">)</span>
    <a href="#61901" title="sxr.BasicLinkMap">map</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(map: sxr.LinkMap)Unit" id="37834">fillMap</a><span class="delimiter">(</span><a title="sxr.LinkMap" id="61902">map</a>: <a href="#9532" title="sxr.LinkMap">LinkMap</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="FileUtil.scala.html#11961" title="(file: java.io.File, encoding: String, value: java.lang.String)(f: (java.lang.String, String) =&gt; java.lang.String)java.lang.String">readLines</a><span class="delimiter">(</span><a href="#37843" title="java.io.File">file</a>, <a href="#37841" title="=&gt; java.lang.String">encoding</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span> <span class="delimiter">(</span><a title="java.lang.String" id="61925">src</a>, <a title="String" id="61926">line</a><span class="delimiter">)</span> =&gt;
      <a href="#37836" title="(s: String, map: sxr.LinkMap, currentSrc: String)String">parseLine</a><span class="delimiter">(</span><a href="#61926" title="String">line</a>, <a href="#61902" title="sxr.LinkMap">map</a>, <a href="#61925" title="java.lang.String">src</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(writer: java.io.PrintWriter, map: sxr.LinkMap)Unit" id="37835">write</a><span class="delimiter">(</span><a title="java.io.PrintWriter" id="61891">writer</a>: <span title="java.io.PrintWriter">PrintWriter</span>, <a title="sxr.LinkMap" id="61892">map</a>: <a href="#9532" title="sxr.LinkMap">LinkMap</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span class="keyword">for</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="String" id="61979">src</a>, <a title="Iterable[(String, Int)]" id="61980">srcMap</a><span class="delimiter">)</span> &lt;- <a href="#61892" title="sxr.LinkMap">map</a>.<a href="#43902" title="(f: (String, Iterable[(String, Int)]) =&gt; Unit)Unit">get</a><span class="delimiter">)</span>
    <span class="delimiter">{</span>
      <a href="#61891" title="java.io.PrintWriter">writer</a>.<span title="(x$1: java.lang.String)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#61979" title="String">src</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>
      <span class="keyword">for</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="String" id="62018">path</a>, <a title="Int" id="62019">id</a><span class="delimiter">)</span> &lt;- <a href="#61980" title="(f: (String, Int) =&gt; Unit)Unit">srcMap</a> <span class="delimiter">)</span>
        <a href="#61891" title="java.io.PrintWriter">writer</a>.<span title="(x$1: java.lang.String)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#62019" title="Int">id</a>.<span title="()java.lang.String">toString</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#62018" title="String">path</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String, map: sxr.LinkMap, currentSrc: String)String" id="37836">parseLine</a><span class="delimiter">(</span><a title="String" id="61927">s</a>: <span title="String">String</span>, <a title="sxr.LinkMap" id="61928">map</a>: <a href="#9532" title="sxr.LinkMap">LinkMap</a>, <a title="String" id="61929">currentSrc</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <a href="#61927" title="String">s</a>.<span title="()java.lang.String">trim</span> <span title="String" class="keyword">match</span>
    <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#37839" title="String">Definition</a><span class="delimiter">(</span><a title="String" id="61933">id</a>, <a title="String" id="61934">path</a><span class="delimiter">)</span> =&gt; <a href="#43899" title="(src: String, stableID: String, id: Int)Unit">map</a><span class="delimiter">(</span><a href="#61929" title="String">currentSrc</a>, <a href="#61934" title="String">path</a><span class="delimiter">)</span> = <a href="#61933" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">id</a>.<span title="=&gt; Int">toInt</span>; <a href="#61929" title="String">currentSrc</a>
      <span class="keyword">case</span> <a href="#37837" title="String">SourceSection</a><span class="delimiter">(</span><a title="String" id="61941">src</a><span class="delimiter">)</span> =&gt; <a href="#61941" title="String">src</a>
      <span class="keyword">case</span> <span title="String">_</span> =&gt;  <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Couldn\'t parse: &quot;)" class="string">&quot;Couldn't parse: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#61927" title="String">s</a><span class="delimiter">)</span>; <a href="#61929" title="String">currentSrc</a>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="37837">SourceSection</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;\[(.+)\]&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="37839">Definition</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;(\d+)\s+(.+)&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.String" id="37841">encoding</a> = <a href="FileUtil.scala.html#9518" title="object sxr.FileUtil">FileUtil</a>.<a href="FileUtil.scala.html#11949" title="=&gt; java.lang.String">DefaultEncoding</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>