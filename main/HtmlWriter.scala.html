<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>HtmlWriter.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sxr -- Scala X-Ray
 * Copyright 2009, 2010 Mark Harrah, Olivier Michallat
 */</span>

<span class="keyword">package</span> sxr

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> scala.collection.mutable.ArrayBuffer

<span class="keyword">object</span> <a title="object sxr.HtmlWriter" id="9525">HtmlWriter</a>
<span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">/** The location to store the index relative to the output directory.*/</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="42668">IndexRelativePath</a> = <span title="java.lang.String(&quot;index.html&quot;)" class="string">&quot;index.html&quot;</span>
  <span class="comment">/** The location to store the style sheet relative to the output directory.*/</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="42670">CSSRelativePath</a> = <span title="java.lang.String(&quot;style.css&quot;)" class="string">&quot;style.css&quot;</span>
  <span class="comment">/** The location to store the script relative to the output directory.*/</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="42672">JSRelativePath</a> = <span title="java.lang.String(&quot;linked.js&quot;)" class="string">&quot;linked.js&quot;</span>
  <span class="comment">/** The location to store jQuery relative to the output directory.*/</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="42674">JQueryRelativePath</a> = <span title="java.lang.String(&quot;jquery-all.js&quot;)" class="string">&quot;jquery-all.js&quot;</span>

  <span class="keyword">val</span> <a title="java.lang.String" id="42676">HtmlExtension</a> = <span title="java.lang.String(&quot;.html&quot;)" class="string">&quot;.html&quot;</span>

  <span class="comment">/** The path of the default style sheet resource.*/</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="42678">DefaultCSS</a> = <span title="java.lang.String(&quot;/default-style.css&quot;)" class="string">&quot;/default-style.css&quot;</span>
  <span class="comment">/** The path of the default script resource.*/</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="42680">LinkedJS</a> = <span title="java.lang.String(&quot;/linked.js&quot;)" class="string">&quot;/linked.js&quot;</span>
  <span class="comment">/** The path of the JQuery resource.*/</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="42682">LinkedJQuery</a> = <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#42674" title="=&gt; java.lang.String">JQueryRelativePath</a>

  <span class="comment">/** Copies the default style sheet available as a resource on the classpath to the file 'to'.*/</span>
  <span class="keyword">def</span> <a title="(to: java.io.File)Unit" id="42684">writeDefaultCSS</a><span class="delimiter">(</span><a title="java.io.File" id="59183">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="FileUtil.scala.html#9518" title="object sxr.FileUtil">FileUtil</a>.<a href="FileUtil.scala.html#11956" title="(resource: String, to: java.io.File)Unit">writeResource</a><span class="delimiter">(</span><a href="#42678" title="=&gt; java.lang.String">DefaultCSS</a>, <a href="#59183" title="java.io.File">to</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="comment">/** Copies the default script available as a resource on the classpath to the file 'to'.*/</span>
  <span class="keyword">def</span> <a title="(to: java.io.File)Unit" id="42685">writeJS</a><span class="delimiter">(</span><a title="java.io.File" id="59185">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="FileUtil.scala.html#9518" title="object sxr.FileUtil">FileUtil</a>.<a href="FileUtil.scala.html#11956" title="(resource: String, to: java.io.File)Unit">writeResource</a><span class="delimiter">(</span><a href="#42680" title="=&gt; java.lang.String">LinkedJS</a>, <a href="#59185" title="java.io.File">to</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="comment">/** Copies the jQuery script available as a resource on the classpath to the file 'to'.*/</span>
  <span class="keyword">def</span> <a title="(to: java.io.File)Unit" id="42686">writeJQuery</a><span class="delimiter">(</span><a title="java.io.File" id="59187">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="FileUtil.scala.html#9518" title="object sxr.FileUtil">FileUtil</a>.<a href="FileUtil.scala.html#11956" title="(resource: String, to: java.io.File)Unit">writeResource</a><span class="delimiter">(</span><a href="#42682" title="=&gt; java.lang.String">LinkedJQuery</a>, <a href="#59187" title="java.io.File">to</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  case <span class="keyword">class</span> <a title="class PathAndLineCount extends java.lang.Object with ScalaObject with Product with Serializable" id="60811">PathAndLineCount</a><a href="#60811" title="ScalaObject" class="delimiter">(</a><a title="String" id="59301">path</a>:<span title="String">String</span>,<a title="Option[Int]" id="59302">lineCount</a>:<span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span>

  @inline <span class="keyword">final</span> <span class="keyword">val</span> <a title="String" id="42690">header</a> = <span title="(elems: java.lang.String*)Seq[java.lang.String]">Seq</span><span class="delimiter">(</span>
     <span title="java.lang.String(&quot;&lt;html&gt;&quot;)" class="string">&quot;&lt;html&gt;&quot;</span>,<span title="java.lang.String(&quot;&lt;head&gt;&quot;)" class="string">&quot;&lt;head&gt;&quot;</span>
    ,<span title="java.lang.String(&quot;&lt;meta http-equiv=\&quot;Pragma\&quot; content=\&quot;no-cache\&quot;&gt;&quot;)" class="string">&quot;&quot;&quot;&lt;meta http-equiv=&quot;Pragma&quot; content=&quot;no-cache&quot;&gt;&quot;&quot;&quot;</span>
    ,<span title="java.lang.String(&quot;&lt;meta http-equiv=\&quot;Cache-Control\&quot; content=\&quot;no-store\&quot;&gt;&quot;)" class="string">&quot;&quot;&quot;&lt;meta http-equiv=&quot;Cache-Control&quot; content=&quot;no-store&quot;&gt;&quot;&quot;&quot;</span>
    ,<span title="java.lang.String(&quot;&lt;meta http-equiv=\&quot;Cache-Control\&quot; content=\&quot;no-cache\&quot;&gt;&quot;)" class="string">&quot;&quot;&quot;&lt;meta http-equiv=&quot;Cache-Control&quot; content=&quot;no-cache&quot;&gt;&quot;&quot;&quot;</span>
    ,<span title="java.lang.String(&quot;&lt;meta http-equiv=\&quot;Expires\&quot; content=\&quot;-1\&quot;&gt;&quot;)" class="string">&quot;&quot;&quot;&lt;meta http-equiv=&quot;Expires&quot; content=&quot;-1&quot;&gt;&quot;&quot;&quot;</span>
    ,<span title="java.lang.String(&quot;&lt;/head&gt;&quot;)" class="string">&quot;&lt;/head&gt;&quot;</span>
    ,<span title="java.lang.String(&quot;&lt;body&gt;&quot;)" class="string">&quot;&lt;body&gt;&quot;</span>
    ,<span title="java.lang.String(&quot;&lt;ol&gt;&quot;)" class="string">&quot;&lt;ol&gt;&quot;</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(to: java.io.File, files: List[sxr.FileWithLineCount])Unit" id="42692">writeIndex</a><span class="delimiter">(</span><a title="java.io.File" id="42754">to</a>: <span title="java.io.File">File</span>, <a title="List[sxr.FileWithLineCount]" id="42755">files</a>: <span title="List[sxr.FileWithLineCount]">List</span><span class="delimiter">[</span>FileWithLineCount<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">{</span>
    <span class="keyword">try</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.File" id="59262">relativizeAgainst</a> = <a href="#42754" title="java.io.File">to</a>.<span title="()java.io.File">getParentFile</span>
    <span class="keyword">val</span> <a title="List[sxr.HtmlWriter.PathAndLineCount]" id="59263">pathAndCounts</a> = <span class="keyword">for</span><span class="delimiter">{</span>
      <a title="sxr.FileWithLineCount" id="59280">f</a>     &lt;- <a href="#42755" title="(f: sxr.FileWithLineCount =&gt; scala.collection.GenTraversableOnce[sxr.HtmlWriter.PathAndLineCount])(implicit bf: scala.collection.generic.CanBuildFrom[List[sxr.FileWithLineCount],sxr.HtmlWriter.PathAndLineCount,List[sxr.HtmlWriter.PathAndLineCount]])List[sxr.HtmlWriter.PathAndLineCount]">files</a>
      <a title="String" id="59300">path</a>  &lt;- <a href="FileUtil.scala.html#9518" title="object sxr.FileUtil">FileUtil</a>.<a href="FileUtil.scala.html#11959" title="(baseFile: java.io.File, file: java.io.File)Option[String]">relativize</a><span class="delimiter">(</span><a href="#59262" title="java.io.File">relativizeAgainst</a>, <a href="#59280" title="sxr.FileWithLineCount">f</a>.<a href="Browse.scala.html#27086" title="=&gt; java.io.File">file</a><span class="delimiter">)</span>.<span title="(f: String =&gt; sxr.HtmlWriter.PathAndLineCount)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],sxr.HtmlWriter.PathAndLineCount,List[sxr.HtmlWriter.PathAndLineCount]])List[sxr.HtmlWriter.PathAndLineCount]">toList</span>
    <span class="delimiter">}</span><span class="keyword">yield</span> <a href="#60811" title="(path: String, lineCount: Option[Int])sxr.HtmlWriter.PathAndLineCount">PathAndLineCount</a><span class="delimiter">(</span><a href="#59300" title="String">path</a>,<a href="#59280" title="sxr.FileWithLineCount">f</a>.<a href="Browse.scala.html#27088" title="=&gt; Option[Int]">lineCount</a><span class="delimiter">)</span>

    <a href="FileUtil.scala.html#9518" title="object sxr.FileUtil">FileUtil</a>.<a href="FileUtil.scala.html#11946" title="(target: java.io.File)(f: java.io.BufferedWriter =&gt; Unit)Unit">withWriter</a><span class="delimiter">(</span><a href="#42754" title="java.io.File">to</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedWriter" id="59368">out</a> =&gt;
      <a href="#59368" title="java.io.BufferedWriter">out</a>.<span title="(x$1: java.lang.String)Unit">write</span><span class="delimiter">(</span><a href="#42690" title="=&gt; String">header</a><span class="delimiter">)</span>
      <a href="#59263" title="List[sxr.HtmlWriter.PathAndLineCount]">pathAndCounts</a>.<span title="(f: sxr.HtmlWriter.PathAndLineCount =&gt; String)(implicit ord: scala.math.Ordering[String])List[sxr.HtmlWriter.PathAndLineCount]">sortBy</span><span title="object scala.math.Ordering.String" class="delimiter">(</span><a href="#59379" title="sxr.HtmlWriter.PathAndLineCount">_</a>.<a href="#59301" title="=&gt; String">path</a><span class="delimiter">)</span>.<span title="(f: sxr.HtmlWriter.PathAndLineCount =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#42694" title="(out: java.io.Writer)(file: sxr.HtmlWriter.PathAndLineCount)Unit">writeEntry</a><a href="#60755" title="sxr.HtmlWriter.PathAndLineCount" class="delimiter">(</a><a href="#59368" title="java.io.BufferedWriter">out</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#59368" title="java.io.BufferedWriter">out</a>.<span title="(x$1: java.lang.String)Unit">write</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&lt;/ol&gt;\012&lt;/body&gt;\012&lt;/html&gt;&quot;)" class="string">&quot;&lt;/ol&gt;\n&lt;/body&gt;\n&lt;/html&gt;&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="keyword">catch</span><span class="delimiter">{</span><span class="keyword">case</span> <a title="Unit" id="60763">e</a> =&gt; <a href="#60763" title="java.lang.Throwable">e</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">import</span> java.io.Writer
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(out: java.io.Writer)(file: sxr.HtmlWriter.PathAndLineCount)Unit" id="42694">writeEntry</a><span class="delimiter">(</span><a title="java.io.Writer" id="60751">out</a>: <span title="java.io.Writer">Writer</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="sxr.HtmlWriter.PathAndLineCount" id="60752">file</a>: <a href="#60811" title="sxr.HtmlWriter.PathAndLineCount">PathAndLineCount</a><span class="delimiter">)</span>
  <span class="delimiter">{</span>
    <span title="(elems: java.lang.String*)Iterator[java.lang.String]">Iterator</span><span class="delimiter">(</span>
      <span title="java.lang.String(&quot;&lt;li&gt;&lt;a target=\&quot;_blank\&quot; href=\&quot;&quot;)" class="string">&quot;&quot;&quot;&lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;&quot;&quot;&quot;</span>
     ,<a href="#60752" title="sxr.HtmlWriter.PathAndLineCount">file</a>.<a href="#59301" title="=&gt; String">path</a>
     ,<span title="java.lang.String(&quot;\&quot;&gt;&quot;)" class="string">&quot;\&quot;&gt;&quot;</span>
     ,<span class="delimiter">{</span><span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#60752" title="sxr.HtmlWriter.PathAndLineCount">file</a>.<a href="#59301" title="=&gt; String">path</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.html&quot;)" class="string">&quot;.html&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#60752" title="sxr.HtmlWriter.PathAndLineCount">file</a>.<a href="#59301" title="=&gt; String">path</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#60752" title="sxr.HtmlWriter.PathAndLineCount">file</a>.<a href="#59301" title="=&gt; String">path</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="java.lang.String(&quot;.html&quot;)" class="string">&quot;.html&quot;</span>.<span title="()Int">length</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#60752" title="sxr.HtmlWriter.PathAndLineCount">file</a>.<a href="#59301" title="=&gt; String">path</a><span class="delimiter">}</span>
     ,<span title="java.lang.String(&quot;&lt;/a&gt;&quot;)" class="string">&quot;&lt;/a&gt;&quot;</span>
     ,<a href="#60752" title="sxr.HtmlWriter.PathAndLineCount">file</a>.<a href="#59302" title="=&gt; Option[Int]">lineCount</a>.<span title="(default: =&gt; Any)Any">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>.<span title="()java.lang.String">toString</span>
     ,<span title="java.lang.String(&quot;&lt;/li&gt;\012&quot;)" class="string">&quot;&lt;/li&gt;\n&quot;</span>
    <span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#60751" title="java.io.Writer">out</a>.<a href="#60802" title="(x$1: java.lang.String)Unit">write</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/** Outputs a set of html files and auxiliary javascript and CSS files that annotate the source
  * code for display in a web browser. */</span>
<span class="keyword">class</span> <a title="class HtmlWriter extends java.lang.Object with sxr.OutputWriter with ScalaObject" id="9527">HtmlWriter</a><a href="#9527" title="ScalaObject" class="delimiter">(</a><a title="sxr.OutputWriterContext" id="59174">context</a>: <a href="OutputWriter.scala.html#9552" title="sxr.OutputWriterContext">OutputWriterContext</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="OutputWriter.scala.html#9551" title="sxr.OutputWriter">OutputWriter</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="java.io.File" id="59155">outputDirectory</a> = <a href="#59174" title="sxr.OutputWriterContext">context</a>.<a href="OutputWriter.scala.html#43980" title="=&gt; java.io.File">outputDirectory</a>
  <span class="keyword">val</span> <a title="String" id="59157">encoding</a> = <a href="#59174" title="sxr.OutputWriterContext">context</a>.<a href="OutputWriter.scala.html#43982" title="=&gt; String">encoding</a>

  <span class="keyword">import</span> <a href="#9525" title="object sxr.HtmlWriter">HtmlWriter</a>._
  <span class="keyword">val</span> <a title="sxr.OutputInfo" id="59160">info</a> = <span title="sxr.OutputInfo" class="keyword">new</span> <a href="OutputWriter.scala.html#9553" title="sxr.OutputInfo">OutputInfo</a><span class="delimiter">(</span><a href="#59155" title="=&gt; java.io.File">outputDirectory</a>, <a href="#42676" title="=&gt; java.lang.String">HtmlExtension</a><span class="delimiter">)</span>

  <span class="keyword">import</span> <a href="#59160" title="=&gt; sxr.OutputInfo">info</a>._
  <span class="keyword">val</span> <a title="java.io.File" id="59163">cssFile</a> = <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#59155" title="=&gt; java.io.File">outputDirectory</a>, <a href="#42670" title="=&gt; java.lang.String">CSSRelativePath</a><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="java.io.File" id="59165">jsFile</a> = <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#59155" title="=&gt; java.io.File">outputDirectory</a>, <a href="#42672" title="=&gt; java.lang.String">JSRelativePath</a><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="java.io.File" id="59167">jQueryFile</a> = <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#59155" title="=&gt; java.io.File">outputDirectory</a>, <a href="#42674" title="=&gt; java.lang.String">JQueryRelativePath</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[sxr.FileWithLineCount]" id="59169">outputFiles</a> = <span title="[A](elems: A*)scala.collection.mutable.ArrayBuffer[A]">ArrayBuffer</span><span title="(elems: sxr.FileWithLineCount*)scala.collection.mutable.ArrayBuffer[sxr.FileWithLineCount]" class="delimiter">[</span><a href="Browse.scala.html#9481" title="sxr.FileWithLineCount">FileWithLineCount</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()Unit" id="59171">writeStart</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#42684" title="(to: java.io.File)Unit">writeDefaultCSS</a><span class="delimiter">(</span><a href="#59163" title="=&gt; java.io.File">cssFile</a><span class="delimiter">)</span>
    <a href="#42685" title="(to: java.io.File)Unit">writeJS</a><span class="delimiter">(</span><a href="#59165" title="=&gt; java.io.File">jsFile</a><span class="delimiter">)</span>
    <a href="#42686" title="(to: java.io.File)Unit">writeJQuery</a><span class="delimiter">(</span><a href="#59167" title="=&gt; java.io.File">jQueryFile</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sourceFile: java.io.File, relativeSourcePath: String, tokenList: List[sxr.Token])Unit" id="59172">writeUnit</a><span class="delimiter">(</span><a title="java.io.File" id="60875">sourceFile</a>: <span title="java.io.File">File</span>, <a title="String" id="60876">relativeSourcePath</a>: <span title="String">String</span>, <a title="List[sxr.Token]" id="60877">tokenList</a>: <span title="List[sxr.Token]">List</span><span class="delimiter">[</span>Token<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.File" id="60917">outputFile</a> = <a href="OutputWriter.scala.html#60821" title="(relativeSourcePath: String)java.io.File">getOutputFile</a><span class="delimiter">(</span><a href="#60876" title="String">relativeSourcePath</a><span class="delimiter">)</span>
    <a href="#59169" title="=&gt; scala.collection.mutable.ArrayBuffer[sxr.FileWithLineCount]">outputFiles</a> <span title="(elem: sxr.FileWithLineCount)HtmlWriter.this.outputFiles.type">+=</span> <a href="Browse.scala.html#27103" title="(file: java.io.File, lineCount: Option[Int])sxr.FileWithLineCount">FileWithLineCount</a><span class="delimiter">(</span> <a href="#60917" title="java.io.File">outputFile</a> , <a href="FileUtil.scala.html#9518" title="object sxr.FileUtil">FileUtil</a>.<a href="FileUtil.scala.html#11942" title="(f: java.io.File)Option[Int]">lineCount</a><span class="delimiter">(</span><a href="#60875" title="java.io.File">sourceFile</a><span class="delimiter">)</span> <span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(f: java.io.File)String" id="60918">relPath</a><span class="delimiter">(</span><a title="java.io.File" id="61050">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <a href="FileUtil.scala.html#9518" title="object sxr.FileUtil">FileUtil</a>.<a href="FileUtil.scala.html#11955" title="(fromFile: java.io.File, toFile: java.io.File)String">relativePath</a><span class="delimiter">(</span><a href="#60917" title="java.io.File">outputFile</a>, <a href="#61050" title="java.io.File">f</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="sxr.BasicStyler" id="60919">styler</a> = <span title="sxr.BasicStyler" class="keyword">new</span> <a href="Styler.scala.html#9564" title="sxr.BasicStyler">BasicStyler</a><span class="delimiter">(</span><a href="#60876" title="String">relativeSourcePath</a>, <a href="#60918" title="(f: java.io.File)String">relPath</a><span class="delimiter">(</span><a href="#59163" title="=&gt; java.io.File">cssFile</a><span class="delimiter">)</span>, <a href="#60918" title="(f: java.io.File)String">relPath</a><span class="delimiter">(</span><a href="#59165" title="=&gt; java.io.File">jsFile</a><span class="delimiter">)</span>,  <a href="#60918" title="(f: java.io.File)String">relPath</a><span class="delimiter">(</span><a href="#59167" title="=&gt; java.io.File">jQueryFile</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="Annotate.scala.html#9634" title="(source: java.io.File, sourceEncoding: String, target: java.io.File, tokens: List[sxr.Token], styler: sxr.Styler)Unit">Annotate</a><span class="delimiter">(</span><a href="#60875" title="java.io.File">sourceFile</a>, <a href="#59157" title="=&gt; String">encoding</a>, <a href="#60917" title="java.io.File">outputFile</a>, <a href="#60877" title="List[sxr.Token]">tokenList</a>, <a href="#60919" title="sxr.BasicStyler">styler</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()Unit" id="59173">writeEnd</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.File" id="61074">indexFile</a> = <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#59155" title="=&gt; java.io.File">outputDirectory</a>, <a href="#42668" title="=&gt; java.lang.String">IndexRelativePath</a><span class="delimiter">)</span>
    <a href="#42692" title="(to: java.io.File, files: List[sxr.FileWithLineCount])Unit">writeIndex</a><span class="delimiter">(</span><a href="#61074" title="java.io.File">indexFile</a>, <a href="#59169" title="=&gt; scala.collection.mutable.ArrayBuffer[sxr.FileWithLineCount]">outputFiles</a>.<span title="=&gt; List[sxr.FileWithLineCount]">toList</span> <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
<span class="delimiter">}</span>

        </pre>
    </body>
</html>